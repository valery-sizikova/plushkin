<div class="main">
    <div class="main-window">

        <i class="glyphicon glyphicon-cog settings-btn"
           ng-click="vm.toggleSettings();"></i>

        <div class="main-block" ng-if="!vm.settingsOpen">
            <div class="text-center">
                <h2 class="wash-dark-text bold">
                    <span ng-if="vm.firstDay === null">first day of period - </span>
                    <span ng-if="vm.firstDay !== null">{{vm.firstDay | date: 'dd MMM yyyy'}} - </span>
                    <span ng-if="vm.lastDay === null">last day of period</span>
                    <span ng-if="vm.lastDay !== null">{{vm.lastDay | date: 'dd MMM yyyy'}}</span>
                </h2>
            </div>

            <h3 class="malcolm-dark-text text-center bold">daily budget &#8212
                <span class="simon-extra-dark-text">{{vm.dailyBudget}} â‚¬</span>
            </h3>

            <div class="entries">
                <div class="row">
                    <form ng-keypress="vm.addNewEntry(vm.entryDate, vm.entryDescription, vm.entryAmountSpent)"
                          class="entry-form malcolm-extra-light-text">
                        <input class="col-xs-1" type="text" ng-model="vm.entryDate">
                        <input class="col-xs-6" type="text" ng-model="vm.entryDescription">
                        <input class="col-xs-1" type="text" ng-model="vm.entryAmountSpent">
                        <div class="col-xs-1">/</div>
                        <div class="col-xs-1">{{vm.entries[vm.entries.length-1].possibleAmountToSpend - vm.entries[vm.entries.length-1].amountSpent + vm.dailyBudget}}</div>
                    </form>
                </div>

                <div class="row entries-list malcolm-extra-light-text" ng-repeat="entry in vm.entries | orderBy:'$loki':true">
                    <div class="col-xs-2 text-right">{{entry.date | date:'dd MMM'}}</div>
                    <div class="col-xs-7 padding-left-2x">{{entry.description}}</div>
                    <div class="col-xs-1">{{entry.amountSpent}}</div>
                    <div class="col-xs-1">/</div>
                    <div class="col-xs-1 text-left">{{entry.possibleAmountToSpend}}</div>
                </div>
            </div>

        </div>

        <div ng-include
             class="settings"
             src="'app/settings/settings.html'"></div>
    </div>

    <div ng-include
         class="balance-panel"
         src="'app/balance/balance-panel.html'"></div>
</div>

